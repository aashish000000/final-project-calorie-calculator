(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{2800:function(e,t,s){Promise.resolve().then(s.bind(s,1605))},1605:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var a=s(7437),r=s(2265),l=s(9827),n=s(1713),i=s(5696),o=s(9649),d=s(3497);function c(e,t){let s=(0,o.Q)(e);return isNaN(t)?(0,d.L)(e,NaN):(t&&s.setDate(s.getDate()+t),s)}var m=s(3180),x=s(6942);function u(e,t){return+(0,x.b)(e)==+(0,x.b)(t)}var h=s(9116),g=s(7996),f=s(7648),y=s(1770);function p(e){let{isOpen:t,onClose:s,currentGoals:n}=e,i=(0,l.NL)(),[o,d]=(0,r.useState)(n);(0,r.useEffect)(()=>{d(n)},[n]);let c=(0,y.D)({mutationFn:e=>h.h.updateGoals(e),onSuccess:()=>{i.invalidateQueries({queryKey:["goals"]}),s()}});return t?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),(0,a.jsxs)("div",{className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Daily Goals"}),(0,a.jsx)("p",{className:"text-indigo-200 text-sm mt-1",children:"Set your nutrition targets"})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,a.jsx)(g.q5L,{className:"w-5 h-5"})})]})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.mutate(o)},className:"p-6 space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(g.bAx,{className:"w-4 h-4 text-indigo-600"}),"Calorie Goal"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:o.calorieGoal,onChange:e=>d({...o,calorieGoal:parseInt(e.target.value)||0}),min:500,max:1e4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"2000"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"kcal"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(g.xUG,{className:"w-4 h-4 text-green-600"}),"Protein Goal"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:o.proteinGoal,onChange:e=>d({...o,proteinGoal:parseInt(e.target.value)||0}),min:10,max:500,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"150"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"grams"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(g.Wqx,{className:"w-4 h-4 text-yellow-600"}),"Carbs Goal"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:o.carbsGoal,onChange:e=>d({...o,carbsGoal:parseInt(e.target.value)||0}),min:20,max:800,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all",placeholder:"250"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"grams"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(g.YF6,{className:"w-4 h-4 text-red-600"}),"Fat Goal"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:o.fatGoal,onChange:e=>d({...o,fatGoal:parseInt(e.target.value)||0}),min:10,max:300,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:"65"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"grams"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Daily Macro Split"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-1",children:(0,a.jsxs)("span",{className:"text-green-600 font-medium text-sm",children:[Math.round(4*o.proteinGoal/o.calorieGoal*100)||0,"%"]})}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Protein"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 mx-auto bg-yellow-100 rounded-full flex items-center justify-center mb-1",children:(0,a.jsxs)("span",{className:"text-yellow-600 font-medium text-sm",children:[Math.round(4*o.carbsGoal/o.calorieGoal*100)||0,"%"]})}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Carbs"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-1",children:(0,a.jsxs)("span",{className:"text-red-600 font-medium text-sm",children:[Math.round(9*o.fatGoal/o.calorieGoal*100)||0,"%"]})}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Fat"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:c.isPending,className:"flex-1 py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-500 hover:to-purple-500 disabled:opacity-50 transition-all",children:c.isPending?"Saving...":"Save Goals"})]})]})]})]}):null}let b=[250,350,500,750];function j(){let[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)(""),o=(0,l.NL)(),{data:d,isLoading:c}=(0,n.a)({queryKey:["water",new Date().toISOString().split("T")[0]],queryFn:()=>h.h.getWaterSummary()}),m=(0,y.D)({mutationFn:e=>h.h.logWater(e),onSuccess:()=>{o.invalidateQueries({queryKey:["water"]}),i(""),t(!1)}}),x=(0,y.D)({mutationFn:e=>h.h.deleteWaterEntry(e),onSuccess:()=>{o.invalidateQueries({queryKey:["water"]})}}),u=e=>{e>0&&m.mutate(e)};if(c)return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})});let f=Math.min((null==d?void 0:d.percentageOfGoal)||0,100),p=(((null==d?void 0:d.totalMilliliters)||0)/1e3).toFixed(1),j=(((null==d?void 0:d.goalMilliliters)||2e3)/1e3).toFixed(1);return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.YF6,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Water Intake"})]}),(0,a.jsx)("button",{onClick:()=>t(!e),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition",title:"Add custom amount",children:e?(0,a.jsx)(g.q5L,{className:"w-5 h-5"}):(0,a.jsx)(g.OvN,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,a.jsxs)("div",{className:"relative w-32 h-32 mb-3",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,a.jsx)("circle",{cx:"64",cy:"64",r:"56",stroke:"#E5E7EB",strokeWidth:"12",fill:"none"}),(0,a.jsx)("circle",{cx:"64",cy:"64",r:"56",stroke:"#3B82F6",strokeWidth:"12",fill:"none",strokeDasharray:"".concat(2*Math.PI*56),strokeDashoffset:"".concat(2*Math.PI*56*(1-f/100)),strokeLinecap:"round",className:"transition-all duration-500"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,a.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[f.toFixed(0),"%"]})})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[p,"L / ",j,"L"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Today's Progress"})]})]}),e&&(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault();let t=parseInt(s);t>0&&u(t)},className:"mb-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"number",value:s,onChange:e=>i(e.target.value),placeholder:"Amount (ml)",min:"1",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),(0,a.jsx)("button",{type:"submit",disabled:!s||m.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Add"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:b.map(e=>(0,a.jsxs)("button",{onClick:()=>u(e),disabled:m.isPending,className:"py-2 px-3 bg-white text-blue-600 rounded-lg hover:bg-blue-100 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed border border-blue-200",children:["+",e,"ml"]},e))}),d&&d.entries.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-100",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Today's Logs"}),(0,a.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:d.entries.slice().reverse().map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-1 px-2 bg-white rounded text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-700",children:[e.milliliters,"ml",(0,a.jsx)("span",{className:"text-gray-400 ml-2",children:new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("button",{onClick:()=>x.mutate(e.id),className:"text-gray-400 hover:text-red-600 transition",disabled:x.isPending,children:(0,a.jsx)(g.q5L,{className:"w-4 h-4"})})]},e.id))})]})]})}function v(){let[e,t]=(0,r.useState)(null),s=(0,l.NL)(),{data:i,isLoading:o}=(0,n.a)({queryKey:["favorite-meals"],queryFn:()=>h.h.getFavoriteMeals()}),d=(0,y.D)({mutationFn:e=>h.h.deleteFavoriteMeal(e),onSuccess:()=>{s.invalidateQueries({queryKey:["favorite-meals"]})}}),c=(0,y.D)({mutationFn:async e=>{let t=await h.h.getFavoriteMealItems(e);await Promise.all(t.map(e=>h.h.createEntry(e)))},onSuccess:()=>{s.invalidateQueries({queryKey:["metrics"]}),s.invalidateQueries({queryKey:["entries"]})}}),m=(e,t)=>{t.stopPropagation(),confirm("Delete this favorite meal?")&&d.mutate(e)},x=(e,t)=>{t.stopPropagation(),c.mutate(e)};return o?(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}):i&&0!==i.length?(0,a.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(g.nae,{className:"w-5 h-5 text-amber-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Favorite Meals"})]}),(0,a.jsx)("div",{className:"space-y-2",children:i.map(s=>(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-amber-100 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-3 cursor-pointer hover:bg-amber-50 transition",onClick:()=>t(e===s.id?null:s.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:s.name}),(0,a.jsxs)("div",{className:"flex gap-3 text-xs text-gray-600 mt-1",children:[(0,a.jsxs)("span",{children:[Math.round(s.totalCalories)," cal"]}),(0,a.jsxs)("span",{children:[s.totalProtein.toFixed(0),"g protein"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:e=>x(s.id,e),disabled:c.isPending,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition disabled:opacity-50",title:"Add to today",children:c.isPending?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(g.OvN,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:e=>m(s.id,e),disabled:d.isPending,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:(0,a.jsx)(g.Ybf,{className:"w-4 h-4"})})]})]})}),e===s.id&&(0,a.jsx)("div",{className:"px-3 pb-3 pt-0 border-t border-amber-100 bg-amber-25",children:(0,a.jsx)("div",{className:"space-y-1 mt-2",children:s.items.map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-700",children:[(0,a.jsxs)("span",{children:[e.foodName," (",e.grams,"g)"]}),(0,a.jsxs)("span",{className:"text-gray-500",children:[Math.round(e.calories)," cal"]})]},e.id))})})]},s.id))})]}):(0,a.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(g.nae,{className:"w-5 h-5 text-amber-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Favorite Meals"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Save your frequent meals for quick logging!"})]})}function N(){let{data:e,isLoading:t,refetch:s,isRefetching:r}=(0,n.a)({queryKey:["suggestions"],queryFn:()=>h.h.getFoodSuggestions(),staleTime:3e5});if(t)return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"})});if(!e)return null;let l=e.remaining.calories>50;return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Wqx,{className:"w-5 h-5 text-purple-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Smart Suggestions"})]}),(0,a.jsx)("button",{onClick:()=>s(),disabled:r,className:"p-2 text-purple-600 hover:bg-purple-100 rounded-lg transition disabled:opacity-50",title:"Refresh suggestions",children:(0,a.jsx)(g.Bw1,{className:"w-4 h-4 ".concat(r?"animate-spin":"")})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:e.message}),l&&e.suggestions.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.suggestions.map((e,t)=>(0,a.jsx)("div",{className:"bg-white rounded-lg p-4 border border-purple-100",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.reason}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[e.estimatedGrams,"g"]}),(0,a.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:[Math.round(e.calories)," cal"]}),(0,a.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded",children:[e.protein.toFixed(0),"g protein"]}),(0,a.jsxs)("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded",children:[e.carbs.toFixed(0),"g carbs"]}),(0,a.jsxs)("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded",children:[e.fat.toFixed(0),"g fat"]})]})]})})},t))}):l?(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Log some meals to get personalized suggestions!"})}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("p",{className:"text-lg",children:"\uD83C\uDF89"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"You've met your daily goals!"})]}),l&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-purple-100",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Remaining Today:"}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Calories"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.remaining.calories})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Protein"}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-green-600",children:[e.remaining.protein.toFixed(0),"g"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Carbs"}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-amber-600",children:[e.remaining.carbs.toFixed(0),"g"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Fat"}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-red-600",children:[e.remaining.fat.toFixed(0),"g"]})]})]})]})]})}function w(){let e=(0,m.WU)(new Date,"yyyy-MM-dd"),t=(0,m.WU)(c(new Date,-6),"yyyy-MM-dd"),{data:s,isLoading:r}=(0,n.a)({queryKey:["metrics-range",t,e],queryFn:()=>h.h.getRangeMetrics(t,e)}),{data:l}=(0,n.a)({queryKey:["goals"],queryFn:()=>h.h.getGoals()});if(r)return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})});if(!s||!l)return null;let i=[];for(let e=6;e>=0;e--){var o;let t=(0,m.WU)(c(new Date,-e),"yyyy-MM-dd"),a=null===(o=s.dailyData)||void 0===o?void 0:o.find(e=>e.date===t);i.push({date:t,calories:(null==a?void 0:a.calories)||0,protein:(null==a?void 0:a.protein)||0,carbs:(null==a?void 0:a.carbs)||0,fat:(null==a?void 0:a.fat)||0,calorieGoal:l.calorieGoal})}let d=i.reduce((e,t)=>e+t.calories,0)/7,x=i[6].calories-i[0].calories,u=i.filter(e=>e.calories>=.9*l.calorieGoal&&e.calories<=1.1*l.calorieGoal).length,f=60/Math.max(...i.map(e=>Math.max(e.calories,e.calorieGoal)),1),y=i.map((e,t)=>{let s=60-e.calories*f;return"".concat(0===t?"M":"L"," ").concat(t/6*100," ").concat(s)}).join(" "),p="M 0 ".concat(60-l.calorieGoal*f," L ").concat(100," ").concat(60-l.calorieGoal*f);return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"7-Day Progress"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Track your nutrition trends"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Avg Daily"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:Math.round(d)}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"calories"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Trend"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[x>=0?(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-600"}):(0,a.jsx)(g.ZBs,{className:"w-4 h-4 text-red-600"}),(0,a.jsxs)("p",{className:"text-lg font-bold ".concat(x>=0?"text-green-600":"text-red-600"),children:[x>0?"+":"",Math.round(x)]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"cal/day"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"On Track"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-indigo-600",children:[u,"/7"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"days"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Calorie Intake"}),(0,a.jsxs)("svg",{viewBox:"0 0 ".concat(100," ").concat(60),className:"w-full h-32",preserveAspectRatio:"none",children:[(0,a.jsx)("path",{d:p,stroke:"#9CA3AF",strokeWidth:"0.5",strokeDasharray:"2,2",fill:"none"}),(0,a.jsx)("path",{d:y,stroke:"#6366F1",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),i.map((e,t)=>{let s=60-e.calories*f;return(0,a.jsx)("circle",{cx:t/6*100,cy:s,r:"1.5",fill:"#6366F1"},t)})]}),(0,a.jsx)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:i.map((e,t)=>(0,a.jsx)("span",{children:(0,m.WU)(new Date(e.date),"EEE")[0]},t))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"This Week's Macros"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Protein"}),(0,a.jsxs)("span",{className:"font-medium text-green-600",children:[Math.round(s.totalProtein||0),"g"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(Math.min((s.totalProtein||0)/(7*l.proteinGoal)*100,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Carbs"}),(0,a.jsxs)("span",{className:"font-medium text-amber-600",children:[Math.round(s.totalCarbs||0),"g"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-amber-500 rounded-full",style:{width:"".concat(Math.min((s.totalCarbs||0)/(7*l.carbsGoal)*100,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Fat"}),(0,a.jsxs)("span",{className:"font-medium text-red-600",children:[Math.round(s.totalFat||0),"g"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-red-500 rounded-full",style:{width:"".concat(Math.min((s.totalFat||0)/(7*l.fatGoal)*100,100),"%")}})})]})]})]})]})}function M(e){let{value:t,max:s,size:r=160,strokeWidth:l=12,color:n="#6366f1"}=e,i=(r-l)/2,o=2*i*Math.PI,d=Math.min(t/s,1);return(0,a.jsxs)("div",{className:"relative",style:{width:r,height:r},children:[(0,a.jsxs)("svg",{className:"transform -rotate-90",width:r,height:r,children:[(0,a.jsx)("circle",{cx:r/2,cy:r/2,r:i,stroke:"#e5e7eb",strokeWidth:l,fill:"none"}),(0,a.jsx)("circle",{cx:r/2,cy:r/2,r:i,stroke:n,strokeWidth:l,fill:"none",strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:o-d*o,className:"transition-all duration-500 ease-out"})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:Math.round(t)}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["/ ",s," kcal"]})]})]})}function k(e){let{label:t,value:s,max:r,color:l,unit:n="g"}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"relative w-16 h-16 mb-2",children:[(0,a.jsxs)("svg",{className:"transform -rotate-90 w-16 h-16",children:[(0,a.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:"#e5e7eb",strokeWidth:"6",fill:"none"}),(0,a.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:l,strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:"".concat(100*Math.min(s/r,1)*1.76," 176"),className:"transition-all duration-500"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:Math.round(s)})})]}),(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:t}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[Math.round(r-s),n," left"]})]})}function F(){var e,t,s,o,d,x,y;let b=(0,l.NL)(),[F,q]=(0,r.useState)(new Date),[T,C]=(0,r.useState)((0,i.z)(new Date,{weekStartsOn:1})),[S,D]=(0,r.useState)(!1),P=Array.from({length:7},(e,t)=>c(T,t)),{data:E}=(0,n.a)({queryKey:["goals"],queryFn:()=>h.h.getGoals()}),{data:G,isLoading:O}=(0,n.a)({queryKey:["metrics","daily",(0,m.WU)(F,"yyyy-MM-dd")],queryFn:()=>h.h.getDailyMetrics((0,m.WU)(F,"yyyy-MM-dd"))}),{data:L,isLoading:W}=(0,n.a)({queryKey:["metrics","range",(0,m.WU)(T,"yyyy-MM-dd")],queryFn:()=>h.h.getRangeMetrics((0,m.WU)(T,"yyyy-MM-dd"),(0,m.WU)(c(T,6),"yyyy-MM-dd"))}),U=async e=>{try{await h.h.deleteEntry(e),b.invalidateQueries({queryKey:["metrics"]})}catch(e){console.error("Failed to delete entry:",e)}},I=e=>{C(t=>"prev"===e?c(t,-7):c(t,7))},A=null!==(s=null==E?void 0:E.calorieGoal)&&void 0!==s?s:2e3,K=null!==(o=null==E?void 0:E.proteinGoal)&&void 0!==o?o:150,J=null!==(d=null==E?void 0:E.carbsGoal)&&void 0!==d?d:250,R=null!==(x=null==E?void 0:E.fatGoal)&&void 0!==x?x:65,z=null!==(y=null==E?void 0:E.waterGoalMilliliters)&&void 0!==y?y:2e3,B=(null==G?void 0:G.totalCalories)||0,Q=(null==G?void 0:G.totalProtein)||0,_=(null==G?void 0:G.totalCarbs)||0,Y=(null==G?void 0:G.totalFat)||0;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 -m-8 -mt-8",children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-indigo-700 text-white px-4 pt-6 pb-32 rounded-b-3xl shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,a.jsx)("div",{className:"text-center mb-6",children:(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Calorie Counter"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("button",{onClick:()=>I("prev"),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,a.jsx)(g.YFh,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-6 py-2 text-sm font-medium",children:[(0,m.WU)(T,"d MMM")," - ",(0,m.WU)(c(T,6),"d MMM, yyyy")]}),(0,a.jsx)("button",{onClick:()=>I("next"),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,a.jsx)(g.Tfp,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1",children:P.map(e=>{var t;let s=u(e,F),r=(u(e,new Date),null==L?void 0:null===(t=L.dailyData)||void 0===t?void 0:t.find(t=>(0,m.WU)(new Date(t.date),"yyyy-MM-dd")===(0,m.WU)(e,"yyyy-MM-dd")));return(0,a.jsxs)("button",{onClick:()=>q(e),className:"flex flex-col items-center py-2 rounded-xl transition-all ".concat(s?"bg-white text-indigo-600":"hover:bg-white/10"),children:[(0,a.jsx)("span",{className:"text-xs ".concat(s?"text-indigo-600":"text-white/70"),children:(0,m.WU)(e,"EEE")}),(0,a.jsx)("span",{className:"text-lg font-semibold mt-1 ".concat(s?"text-indigo-600":"text-white"),children:(0,m.WU)(e,"d")}),r&&r.calories>0&&(0,a.jsxs)("div",{className:"flex gap-0.5 mt-1",children:[(0,a.jsx)("div",{className:"w-1 h-1 rounded-full bg-cyan-400"}),(0,a.jsx)("div",{className:"w-1 h-1 rounded-full bg-green-400"}),(0,a.jsx)("div",{className:"w-1 h-1 rounded-full bg-yellow-400"})]})]},e.toISOString())})}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-7 gap-1 h-24",children:P.map(e=>{var t;let s=null==L?void 0:null===(t=L.dailyData)||void 0===t?void 0:t.find(t=>(0,m.WU)(new Date(t.date),"yyyy-MM-dd")===(0,m.WU)(e,"yyyy-MM-dd")),r=(null==s?void 0:s.calories)||0,l=(null==s?void 0:s.protein)||0,n=(null==s?void 0:s.carbs)||0,i=(null==s?void 0:s.fat)||0,o=r>0?80/r:0,d=u(e,F);return(0,a.jsxs)("div",{className:"flex flex-col justify-end items-center ".concat(d?"opacity-100":"opacity-60"),children:[r>0?(0,a.jsxs)("div",{className:"w-6 flex flex-col rounded-t-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-red-400",style:{height:"".concat(4*i*o,"px")}}),(0,a.jsx)("div",{className:"bg-yellow-400",style:{height:"".concat(4*n*o,"px")}}),(0,a.jsx)("div",{className:"bg-green-400",style:{height:"".concat(4*l*o,"px")}})]}):(0,a.jsx)("div",{className:"w-6 h-2 bg-white/20 rounded-t-sm"}),(0,a.jsx)("span",{className:"text-xs text-white/60 mt-1",children:r>0?Math.round(r):"-"})]},e.toISOString())})})]})}),(0,a.jsxs)("div",{className:"px-4 -mt-20 pb-24 max-w-lg mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:O?(0,a.jsx)("div",{className:"w-40 h-40 bg-gray-100 rounded-full animate-pulse"}):(0,a.jsx)(M,{value:B,max:A,color:"#6366f1"})}),(0,a.jsxs)("div",{className:"flex-1 ml-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:[(B/A*100).toFixed(0),"% of daily goal"]}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)(k,{label:"Carbs",value:_,max:J,color:"#facc15"}),(0,a.jsx)(k,{label:"Protein",value:Q,max:K,color:"#22c55e"}),(0,a.jsx)(k,{label:"Fat",value:Y,max:R,color:"#ef4444"})]})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Daily calorie goal"}),(0,a.jsxs)("button",{onClick:()=>D(!0),className:"flex items-center gap-2 text-lg font-semibold text-indigo-600 hover:text-indigo-700 transition-colors",children:[A," kcal",(0,a.jsx)(g.nbt,{className:"w-4 h-4"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Nutrients Facts"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Calories"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.round(B)," / ",A]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(B/A*100,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Protein"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.round(Q),"g / ",K,"g"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(Q/K*100,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Carbs"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.round(_),"g / ",J,"g"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-yellow-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(_/J*100,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Fat"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.round(Y),"g / ",R,"g"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-red-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(Y/R*100,100),"%")}})})]})]})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(j,{})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(v,{})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(N,{})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(w,{})}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Meals"}),(0,a.jsxs)(f.default,{href:"/log",className:"flex items-center gap-1 text-sm text-indigo-600 font-medium hover:text-indigo-700",children:[(0,a.jsx)(g.OvN,{className:"w-4 h-4"}),"Add"]})]}),O?(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-16 bg-gray-100 rounded-xl animate-pulse"},e))}):(null==G?void 0:null===(e=G.entries)||void 0===e?void 0:e.length)===0?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.OvN,{className:"w-8 h-8 text-indigo-600"})}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No meals logged yet"}),(0,a.jsxs)(f.default,{href:"/log",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-full text-sm font-medium hover:bg-indigo-700 transition-colors",children:[(0,a.jsx)(g.OvN,{className:"w-4 h-4"}),"Log your first meal"]})]}):(0,a.jsx)("div",{className:"space-y-3",children:null==G?void 0:null===(t=G.entries)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-lg",children:"\uD83C\uDF7Dï¸"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.foodName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.grams,"g"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:Math.round(e.calories)}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"kcal"})]}),(0,a.jsx)("button",{onClick:()=>U(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(g.Ybf,{className:"w-4 h-4"})})]})]},e.id))})]})]}),(0,a.jsx)(f.default,{href:"/log",className:"fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full shadow-lg flex items-center justify-center text-white hover:from-indigo-500 hover:to-purple-500 transition-all hover:scale-105 z-40",children:(0,a.jsx)(g.OvN,{className:"w-6 h-6"})}),(0,a.jsx)(p,{isOpen:S,onClose:()=>D(!1),currentGoals:{calorieGoal:A,proteinGoal:K,carbsGoal:J,fatGoal:R,waterGoalMilliliters:z}})]})}},9116:function(e,t,s){"use strict";s.d(t,{h:function(){return n}});var a=s(4131);let r=s(257).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api";class l{getToken(){return a.Z.get("token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken(),a={"Content-Type":"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers},l=await fetch("".concat(r).concat(e),{...t,headers:a,credentials:"include"});if(!l.ok)throw Error((await l.json().catch(()=>({}))).message||"HTTP error! status: ".concat(l.status));return 204===l.status?{}:l.json()}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async getCurrentUser(){return this.request("/auth/me")}async getFoods(){return this.request("/foods")}async getFood(e){return this.request("/foods/".concat(e))}async createFood(e){return this.request("/foods",{method:"POST",body:JSON.stringify(e)})}async updateFood(e,t){return this.request("/foods/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteFood(e){return this.request("/foods/".concat(e),{method:"DELETE"})}async getEntries(e){return this.request("/food-entries".concat(e?"?date=".concat(e):""))}async createEntry(e){return this.request("/food-entries",{method:"POST",body:JSON.stringify(e)})}async updateEntry(e,t){return this.request("/food-entries/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteEntry(e){return this.request("/food-entries/".concat(e),{method:"DELETE"})}async getDailyMetrics(e){return this.request("/metrics/daily".concat(e?"?date=".concat(e):""))}async getRangeMetrics(e,t){return this.request("/metrics/range?from=".concat(e,"&to=").concat(t))}async sendChatMessage(e,t){let s=null==t?void 0:t.map(e=>({sender:e.role,text:e.content}));return this.request("/chat",{method:"POST",body:JSON.stringify({message:e,history:s})})}async getGoals(){return this.request("/auth/goals")}async updateGoals(e){return this.request("/auth/goals",{method:"PUT",body:JSON.stringify(e)})}async updateProfile(e){return this.request("/auth/profile",{method:"PUT",body:JSON.stringify(e)})}async changePassword(e,t){return this.request("/auth/change-password",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:t})})}async deleteAccount(){return this.request("/auth/account",{method:"DELETE"})}async uploadProfilePicture(e){return this.request("/auth/profile-picture",{method:"POST",body:JSON.stringify({imageData:e})})}async removeProfilePicture(){return this.request("/auth/profile-picture",{method:"DELETE"})}async analyzeFood(e){let t=new FormData;t.append("image",e);let s=this.getToken(),a=await fetch("".concat(r,"/image-recognition/analyze"),{method:"POST",headers:{...s&&{Authorization:"Bearer ".concat(s)}},body:t,credentials:"include"});if(!a.ok)throw Error((await a.json().catch(()=>({}))).message||"HTTP error! status: ".concat(a.status));return a.json()}async analyzeRecipe(e,t){return this.request("/recipe/analyze",{method:"POST",body:JSON.stringify({recipeText:e,servings:t})})}async getWaterSummary(e){return this.request("/water/summary".concat(e?"?date=".concat(e):""))}async logWater(e,t){return this.request("/water/log",{method:"POST",body:JSON.stringify({milliliters:e,date:t})})}async deleteWaterEntry(e){return this.request("/water/".concat(e),{method:"DELETE"})}async getFavoriteMeals(){return this.request("/favorite-meals")}async createFavoriteMeal(e){return this.request("/favorite-meals",{method:"POST",body:JSON.stringify(e)})}async deleteFavoriteMeal(e){return this.request("/favorite-meals/".concat(e),{method:"DELETE"})}async getFavoriteMealItems(e){return this.request("/favorite-meals/".concat(e,"/items"))}async getFoodSuggestions(e){return this.request("/suggestions".concat(e?"?date=".concat(e):""))}}let n=new l},257:function(e,t,s){"use strict";var a,r;e.exports=(null==(a=s.g.process)?void 0:a.env)&&"object"==typeof(null==(r=s.g.process)?void 0:r.env)?s.g.process:s(4227)},4227:function(e){!function(){var t={229:function(e){var t,s,a,r=e.exports={};function l(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{s="function"==typeof clearTimeout?clearTimeout:n}catch(e){s=n}}();var o=[],d=!1,c=-1;function m(){d&&a&&(d=!1,a.length?o=a.concat(o):c=-1,o.length&&x())}function x(){if(!d){var e=i(m);d=!0;for(var t=o.length;t;){for(a=o,o=[];++c<t;)a&&a[c].run();c=-1,t=o.length}a=null,d=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];o.push(new u(e,t)),1!==o.length||d||i(x)},u.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var l=s[e]={exports:{}},n=!0;try{t[e](l,l.exports,a),n=!1}finally{n&&delete s[e]}return l.exports}a.ab="//";var r=a(229);e.exports=r}()},4131:function(e,t,s){"use strict";function a(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)e[a]=s[a]}return e}s.d(t,{Z:function(){return r}});var r=function e(t,s){function r(e,r,l){if("undefined"!=typeof document){"number"==typeof(l=a({},s,l)).expires&&(l.expires=new Date(Date.now()+864e5*l.expires)),l.expires&&(l.expires=l.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var i in l)l[i]&&(n+="; "+i,!0!==l[i]&&(n+="="+l[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+n}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],a={},r=0;r<s.length;r++){var l=s[r].split("="),n=l.slice(1).join("=");try{var i=decodeURIComponent(l[0]);if(a[i]=t.read(n,i),e===i)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){r(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[956,599,954,561,180,971,117,744],function(){return e(e.s=2800)}),_N_E=e.O()}]);